<?xml version="1.0" encoding="utf-8"?>
<VisualStudioToolFile
	Name="ACF Rules"
	Version="8,00"
	>
	<Rules>
		<CustomBuildRule
			Name="Arxc"
			DisplayName="ARX Compiler"
			CommandLine="$(ACFDIR)/Bin/$(ConfigurationName)VC8/Arxc.exe $(InputPath) -o $(InputDir)Generated/C$(InputName).cpp [AllOptions] [AdditionalOptions]"
			Outputs="$(InputDir)Generated/C$(InputName).cpp"
			AdditionalDependencies="$(ACFDIR)/Bin/$(ConfigurationName)VC8/Arxc.exe"
			FileExtensions="*.arx"
			ExecutionDescription="Compiling ACF Registry File..."
			>
			<Properties>
				<StringProperty
					Name="ConfigFile"
					DisplayName="Packages Configuration File"
					Category="Environment"
					Description="ACF Packages Configuration File"
					Switch="-config [value]"
					Delimited="true"
					Inheritable="true"
				/>
			</Properties>
		</CustomBuildRule>
		<CustomBuildRule
			Name="Copy"
			DisplayName="Copy files"
			CommandLine="xcopy /Y [$InputDir]\$(InputName) [$OutputDir]\"
			Outputs="[$OutputDir]\$(InputName)"
			AdditionalDependencies="[$InputDir]\$(InputName)"
			FileExtensions="*.copy"
			ExecutionDescription="Copying file $(InputName)"
			>
			<Properties>
				<StringProperty
					Name="OutputDir"
					DisplayName="Output Directory"
					Description="Specify output directory"
					DefaultValue="$(OutputDir)"
					Delimited="true"
					Inheritable="true"
				/>
				<StringProperty
					Name="InputDir"
					DisplayName="Input Directory"
					Description="Optional input directory, if *.copy file should be used as dummy only"
					DefaultValue="$(InputDir)"
					Delimited="true"
					Inheritable="true"
				/>
			</Properties>
		</CustomBuildRule>
		<CustomBuildRule
			Name="SubVersionTransform"
			DisplayName="SubVersion Transformation"
			CommandLine="SubWCRev [$SubVersionPath] $(InputPath) [$OutputDir]\$(InputName)"
			Outputs="[$OutputDir]\$(InputName)"
			AdditionalDependencies="[$DependencyFlag]"
			FileExtensions="*.xtrsvn"
			ExecutionDescription="Transforming with SubVersion $(InputName)..."
			>
			<Properties>
				<StringProperty
					Name="OutputDir"
					DisplayName="Ouput Directory"
					Description="Specify output directory were transformed files will be placed"
					DefaultValue="$(OutputDir)"
					Delimited="true"
					Inheritable="true"
				/>
				<StringProperty
					Name="SubVersionPath"
					DisplayName="SubVersion Directory"
					Description="Path of SubVersion directory will be used"
					DefaultValue="$(InputDir)"
					Delimited="true"
					Inheritable="true"
				/>
				<StringProperty
					Name="DependencyFlag"
					DisplayName="Dependency Flag"
					Description="Dependency flag restored after SVN &apos;update&apos; command"
					DefaultValue="$(InputDir)\$(InputName).flgsvn"
					Delimited="true"
					Inheritable="true"
				/>
			</Properties>
		</CustomBuildRule>
	</Rules>
</VisualStudioToolFile>
